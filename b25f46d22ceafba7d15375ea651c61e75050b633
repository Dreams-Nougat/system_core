Revision: b25f46d22ceafba7d15375ea651c61e75050b633
Patch-set: 1
File: init/readme.txt

210
Sun Mar 15 15:57:36 2015 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a624f0ad_f6b03671
Bytes: 784
i think this should probably be [ <flag> ]* [ <options> ] (i.e. missing the last * so we don't imply that options has to end with a trailing ',').

this is pretty confusing, though, because both the man page and /etc/fstab refer to both of these as options, and include them all in the same string. even init's mount_all command requires fstabs where they're all mixed together.

i'll raise a bug to rewrite 'mount' using 'mount_all'. then we can fix the documentation to just "mount <type> <device> <dir> [<options>]", and we can have a compatibility mode that concatenates anything after <dir>. (i'd rather just fix the init scripts, but i can only fix Nexus ones and i assume this would be a pain in the ass for OEMs because there's no way for me to communicate a breaking change.)

210
Sun Mar 15 16:22:16 2015 +0000
Author: Johan Redestig <1002951@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a624f0ad_f6b03671
UUID: a61f9053_9536a4b0
Bytes: 187
done wrt ,*.

man 2 mount calls these mountflags and data, not very clear either. the change just follows the comment prior int do_mount. maybe there should be a note on 'wait' here also.

210
Sun Mar 15 16:39:27 2015 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a61f9053_9536a4b0
UUID: 66191872_7264311d
Bytes: 117
gah. i hadn't noticed that extra wart. (luckily fs_mgr seems to support that too, so i don't think it ruins my plan.)

210
Sun Mar 15 16:45:30 2015 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 66191872_7264311d
UUID: a624f0ad_d6941ac1
Bytes: 109
although it looks like i'm wrong: our fstab does have the same distinction between the two kinds of flags :-(

