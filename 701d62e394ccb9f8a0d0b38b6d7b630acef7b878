Revision: 701d62e394ccb9f8a0d0b38b6d7b630acef7b878
Patch-set: 4
File: liblog/logprint.c

987
Tue Oct 13 16:09:22 2015 +0000
Author: Todd Kjos <1069543@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: df39c202_cf41696f
Bytes: 178
Seems like it would be better to drop the "const" from the prototype rather than force-dropping it via the cast. The caller then is explicitly aware that entry might be modified.

1019:27-1019:28
Tue Oct 13 16:09:22 2015 +0000
Author: Todd Kjos <1069543@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bfb7aeb4_568d9a75
Bytes: 88
This eclipses the "AndroidLogEntry *e" declared at 987. Can you use a unique local name?

1233:4-1233:33
Wed Oct 28 22:00:38 2015 +0000
Author: Mark Salyzyn <1032276@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76c565cc_8ea4ffe0
Bytes: 246
This is an API that has stood the test of time, I am concerned about upsetting it after 7 years ....

I will rethink this, better to keep it constant and let convertMonotonic look after providing response outside of the AndroidLogEntry structure.

1264:4-1266:5
Tue Oct 13 16:09:22 2015 +0000
Author: Todd Kjos <1069543@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5fa8725b_f808396b
Bytes: 69
Should this be done in the caller so we can keep the "const" promise?

File: logcat/logcat.cpp

174
Tue Oct 13 16:09:22 2015 +0000
Author: Todd Kjos <1069543@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1f30ba11_719c82aa
Bytes: 179
Do the conversion here?

    if (g_logformat->monotonic_output) {
        convertMonotonic(entry);
    }
    bytesWritten = android_log_printLogLine(g_logformat, g_outFD, &entry);

174
Wed Oct 28 22:14:33 2015 +0000
Author: Mark Salyzyn <1032276@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1f30ba11_719c82aa
UUID: 56ab01f0_5280f4c1
Bytes: 271
I do not want to export convertMonotonic if at all possible. g_logformat should also remain abstract. logcat should be as KISS as possible. There are other readers, we supply these functions for vendors to use, we do not want to foist upon them any changes in their code.

