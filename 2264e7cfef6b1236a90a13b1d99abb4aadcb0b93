Revision: 2264e7cfef6b1236a90a13b1d99abb4aadcb0b93
Patch-set: 1
File: adb/transport.c

1191:48-1191:59
Fri Mar 07 03:35:26 2014 +0000
Author: JP Abgrall <1005480@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9c348108_4a0f0201
Bytes: 105
Argh. Doesn't build on windows.

Doesn't make a difference if there or not on my Ubuntu: I'm removing it.

1191:48-1191:59
Fri Mar 07 08:58:49 2014 +0000
Author: Snild Dolkow <1041495@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9c348108_4a0f0201
UUID: dccb593b_1ffad3e1
Bytes: 342
My man pages say:

 > POSIX.1-2001 allows either error to be returned for this case, and does not require these constants to have the same value, so a portable application should check for both possibilities. 

http://linux.die.net/man/2/write

Maybe a better solution would be:

  #ifndef EWOULDBLOCK
  #define EWOULDBLOCK EAGAIN
  #endif

?

1191:48-1191:59
Fri Mar 07 19:06:09 2014 +0000
Author: JP Abgrall <1005480@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dccb593b_1ffad3e1
UUID: bc586570_606b0607
Bytes: 254
adb_write() is not write(), look at the OS specific implementations.

The better solution would be to make adb_write() return consistent errno for all cases. 

But I don't care: not worse than what was before, and it still works the same in a quick test.

